stages:
  - checkout
  - build
  - test
  - report

default:
  image: mcr.microsoft.com/playwright:v1.43.0-jammy

before_script:
  - npm ci

checkout:
  stage: checkout
  script:
    - echo "Repo cloned successfully."

build:
  stage: build
  script:
    - echo "Build step (can be extended if needed)."

test:
  stage: test
  script:
    - npm run test

report:
  stage: report
  script:
    - echo "HTML test report generated under playwright-report/"
  artifacts:
    paths:
      - playwright-report